<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout"
	xmlns:t="sap.ui.table" controllerName="halo.sap.mm.RECIPECOST.pages.controller.IngredientForm">
	<l:DynamicSideContent id="DynamicSideContent" class="sapUiSizeCompact" containerQuery="true" sideContentFallDown="BelowM"
		breakpointChanged="handleBreakpointChangeEvent" showSideContent="false">
		<Page title="{Name}"
			class="sapUiContentPadding sapUiResponsivePadding--header sapUiResponsivePadding--subHeader sapUiResponsivePadding--content sapUiResponsivePadding--footer"
			showNavButton="true" navButtonPress=".onNavBack">
			<headerContent>
				<Button icon="sap-icon://action" tooltip="Share"/>
			</headerContent>
			<l:BlockLayout>
				<l:BlockLayoutRow>
					<l:BlockLayoutCell width="2" class="sapUiNoContentPadding">
						<f:Form id="ingrdtHeader" editable="true">
							<f:layout>
								<f:ColumnLayout columnsM="2" columnsL="3" columnsXL="4"/>
							</f:layout>
							<f:formContainers>
								<f:FormContainer>
									<f:formElements>
										<f:FormElement label="{i18n>NameOfRecipe}">
											<f:fields>
												<Input value="{ path: 'form>/Name', type: 'sap.ui.model.type.String', constraints: { minLength:5, maxLength: 50 } }" autocomplete="false"
													enabled="{= ! ${viewData>/IsMultiSelected} }"/>
											</f:fields>
										</f:FormElement>
									</f:formElements>
								</f:FormContainer>
							</f:formContainers>
						</f:Form>
					</l:BlockLayoutCell>
					<l:BlockLayoutCell class="sapUiNoContentPadding">
						<FlexBox alignItems="Start" justifyContent="End">
							<Image
								src="{= '/sap/opu/odata/sap/zrecipecost_odata_srv/RecipePhotoSet(Werks=\'' + ${Werks} + '\',RecipeID=\'' + ${RecipeID} + '\')/$value' }"
								width="300px" height="200px" press="onSelectImage"/>
						</FlexBox>
					</l:BlockLayoutCell>
				</l:BlockLayoutRow>
			</l:BlockLayout>
			<t:Table rows="{form>/Ingredients}" selectionMode="None" visibleRowCount="15" paste="onPaste" ariaLabelledBy="title">
				<t:extension>
					<OverflowToolbar style="Clear">
						<!--<Button icon="sap-icon://nav-back" type="Transparent" tooltip="{i18n>Back}" press=".onNavBack"/>-->
						<Title id="title" text="{i18n>Ingredient}"/>
						<ToolbarSpacer/>
						<Button icon="sap-icon://add" type="Transparent" tooltip="Add Material(s)" press=".onVHMaterialRequested"/>
					</OverflowToolbar>
				</t:extension>
				<t:columns>
					<t:Column width="7rem">
						<Label text="Material No."/>
						<t:template>
							<Text text="{form>Matnr}" wrapping="false"/>
						</t:template>
					</t:Column>
					<t:Column width="20rem">
						<Label text="Material."/>
						<t:template>
							<Text text="{form>Maktx}" wrapping="false"/>
						</t:template>
					</t:Column>
					<t:Column width="10rem" hAlign="End">
						<t:multiLabels>
							<Label text=""/>
							<Label text="Qty Used" textAlign="Center" width="100%"/>
						</t:multiLabels>
						<t:template>
							<Input value="{form>TPeinh}" description="{form>Bprme}" visible="{= ${form>TPeinh} !== null }"/>
						</t:template>
					</t:Column>
					<t:Column width="10rem" hAlign="End">
						<t:multiLabels>
							<Label text=""/>
							<Label text="Qty Purchased" textAlign="Center" width="100%"/>
						</t:multiLabels>
						<t:template>
							<Text text="{form>Peinh} {form>Bprme}" wrapping="false"/>
						</t:template>
					</t:Column>
					<t:Column width="10rem" hAlign="End" headerSpan="2,1">
						<t:multiLabels>
							<Label text="Date" textAlign="Center" width="100%"/>
							<Label text="Unit Cost" textAlign="Center" width="100%"/>
						</t:multiLabels>
						<t:template>
							<Text text="{form>Netpr} {form>Waers}" wrapping="false" visible="{= ${form>Netpr} !== null }"/>
						</t:template>
					</t:Column>
					<t:Column width="10rem" headerSpan="2,1">
						<t:multiLabels>
							<Label text="Date" textAlign="Center" width="100%"/>
							<Label text="Total Cost" textAlign="Center" width="100%"/>
						</t:multiLabels>
						<t:template>
							<FlexBox alignItems="Start" justifyContent="End">
								<Text text="{form>TNetpr} {form>Waers}" wrapping="false" visible="{= ${form>Waers} !== '%' }"/>
								<Input value="{form>TNetpr}" description="{form>Waers}" visible="{= ${form>Waers} === '%' }"/>
							</FlexBox>
						</t:template>
					</t:Column>
					<t:Column width="10rem">
						<Label text="Last PO no."/>
						<t:template>
							<Text text="{form>Ebeln}" wrapping="false"/>
						</t:template>
					</t:Column>
				</t:columns>
				<t:footer>
					<Label text="Total"/>
				</t:footer>
			</t:Table>
		</Page>
	</l:DynamicSideContent>
</mvc:View>